###################
### KEYBINDINGS ###
###################
$mainMod = SUPER

# 1. Applications
bind = $mainMod, RETURN, exec, $terminal            #"Terminal"
bind = $mainMod, SPACE, exec, $menu                 #"Launcher"
bind = $mainMod, F, exec, $fileManager              #"Files"
bind = $mainMod, B, exec, $browser                  #"Browser"
bind = $mainMod SHIFT, B, exec, $browserIncognito   #"Incognito"
bind = $mainMod, M, exec, flatpak run com.spotify.Client                        #"Spotify"
bind = $mainMod SHIFT, M, exec, kitty -e rmpc                                   #"Music Player"

# 2. Webapps
bind = $mainMod, A, exec, gtk-launch chrome-claude.ai__-Default                 #"Claude AI"
bind = $mainMod SHIFT, W, exec, gtk-launch chrome-web.whatsapp.com__-Default    #"Whatsapp"
bind = $mainMod, E, exec, gtk-launch chrome-mail.proton.me__-Default            #"Proton Mail"
bind = $mainMod, V, exec, gtk-launch chrome-192.168.1.137__web-Default          #"Plex Web"
bind = $mainMod, K, exec, gtk-launch chrome-keep.google.com__-Default           #"Google Keep"

# 3. Hyprland window management
bind = $mainMod, W, killactive,                 #"Close window"
bind = $mainMod, T, fullscreen, 1               #"Window fullscreen"
bind = $mainMod SHIFT, T, togglefloating,       #"Window floating"
bind = $mainMod, S, togglesplit,                #"Horizontal/Vertical Split"

# 4. System
bind = $mainMod SHIFT, Q, exec, $logoutMenu                                 #"Power menu"
bind = $mainMod, L, exec, qs -c noctalia-shell ipc call lockScreen lock     #"Lock screen"
bind = $mainMod, H, exec, qs -c noctalia-shell ipc call plugin:keybind-cheatsheet toggle #"Keybinds Help"

# 5. Screenshots
bind = $mainMod, P, exec, mkdir -p ~/Pictures/Screenshots && grim -o $(hyprctl monitors -j | jq -r '.[] | select(.focused) | .name') ~/Pictures/Screenshots/screenshot-$(date +%Y%m%d-%H%M%S).png   #"Screenshot active workspace"
bind = $mainMod SHIFT, P, exec, mkdir -p ~/Pictures/Screenshots && grim -g "$(slurp)" ~/Pictures/Screenshots/screenshot-$(date +%Y%m%d-%H%M%S).png                                                  #"Screenshot selected region"

# 6. Focus movement
bind = $mainMod, left, movefocus, l     #"Focus left"
bind = $mainMod, right, movefocus, r    #"Focus right"
bind = $mainMod, up, movefocus, u       #"Focus up"
bind = $mainMod, down, movefocus, d     #"Focus down"
bind = $mainMod, TAB, cyclenext,        #"Focus next window"

# 7. Workspaces
bind = $mainMod, 1, workspace, 1        #"Move to workspace 1"
bind = $mainMod, 2, workspace, 2        #"Move to workspace 2"
bind = $mainMod, 3, workspace, 3        #"Move to workspace 3"
bind = $mainMod, 4, workspace, 4        #"Move to workspace 4"
bind = $mainMod, 5, workspace, 5        #"Move to workspace 5"
bind = $mainMod, 6, workspace, 6        #"Move to workspace 6"
bind = $mainMod, 7, workspace, 7        #"Move to workspace 7"
bind = $mainMod, 8, workspace, 8        #"Move to workspace 8"
bind = $mainMod, 9, workspace, 9        #"Move to workspace 9"
bind = $mainMod, 0, workspace, 10       #"Move to workspace 10"

bind = $mainMod SHIFT, 1, movetoworkspace, 1            #"Move window to workspace 1"
bind = $mainMod SHIFT, 2, movetoworkspace, 2            #"Move window to workspace 2"
bind = $mainMod SHIFT, 3, movetoworkspace, 3            #"Move window to workspace 3"
bind = $mainMod SHIFT, 4, movetoworkspace, 4            #"Move window to workspace 4"
bind = $mainMod SHIFT, 5, movetoworkspace, 5            #"Move window to workspace 5"
bind = $mainMod SHIFT, 6, movetoworkspace, 6            #"Move window to workspace 6"
bind = $mainMod SHIFT, 7, movetoworkspace, 7            #"Move window to workspace 7"
bind = $mainMod SHIFT, 8, movetoworkspace, 8            #"Move window to workspace 8"
bind = $mainMod SHIFT, 9, movetoworkspace, 9            #"Move window to workspace 9"
bind = $mainMod SHIFT, 0, movetoworkspace, 10           #"Move window to workspace 10"

# 8. Mouse actions
bind = $mainMod, mouse_down, workspace, e+1             #"Workspace up"
bind = $mainMod, mouse_up, workspace, e-1               #"Workspace down"
bindm = $mainMod, mouse:272, movewindow                 #"Drag window"
bindm = $mainMod, mouse:273, resizewindow               #"Resize window"

# 9. Media keys
bindel = ,XF86AudioRaiseVolume, exec, qs -c noctalia-shell ipc call volume increase      #"Volume UP"
bindel = ,XF86AudioLowerVolume, exec, qs -c noctalia-shell ipc call volume decrease      #"Volume DOWN"
bindel = ,XF86AudioMute, exec, qs -c noctalia-shell ipc call volume muteOutput           #"Toggle Audio"
bindel = ,XF86AudioMicMute, exec, qs -c noctalia-shell ipc call volume muteOutput        #"Toggle Microphone"

bindl = ,XF86AudioNext, exec, qs -c noctalia-shell ipc call media next              #"Player Next"
bindl = ,XF86AudioPlay, exec, qs -c noctalia-shell ipc call media playPause         #"Player Play/Pause"
bindl = ,XF86AudioPrev, exec, qs -c noctalia-shell ipc call media previous          #"Player Previous"

bindl = , XF86PowerOff, exec, $logoutMenu                                           #"Power Menu"
bindl = , XF86Calculator, exec, qalculate-gtk                                       #"Calculator"
bindl = , XF86ScreenSaver, exec, qs -c noctalia-shell ipc call lockScreen lock      #"Lock Screen"
